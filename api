%functions:
coefficients = generateCoefficients(inputFrame);
storedFrame = generateFrame(coefficients);
[predictedFrame, motionVectors] = motionEstimation(inputFrame, storedFrame, bma);

% main.m
v = VideoReader('inputVideo');
while hasFrame(v)
  frame_counter++;

  currentFrame = readFrame(v);

  if(currentFrame = i_frame){
    coefficients = generateCoefficients(inputFrame);
    storedFrame = generateFrame(coefficients);
  }
else if(currentFrame = p_frame){
    [predictedFrame, motionVectors] = motionEstimation(inputFrame, storedFrame);

    differenceFrame = inputFrame - predictedFrame;
    coefficients = generateCoefficients(differenceFrame);

    differenceFrame = generateFrame(coefficients);
    storedFrame = differenceFrame + predictedFrame;
  }
end
